<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Techies Investments - 3 Phase Tracker</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #2563eb; --secondary: #1d4ed8; --success: #10b981;
            --warning: #f59e0b; --danger: #ef4444; --dark: #0f172a;
            --card: #1e293b; --text: #e2e8f0; --text-muted: #94a3b8;
            --border: #334155;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--dark); color: var(--text); line-height: 1.6;
        }
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 2rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        }
        .header-content { max-width: 1200px; margin: 0 auto; }
        .header h1 { font-size: 1.8rem; margin-bottom: 0.5rem; }
        .badge {
            display: inline-block; padding: 0.25rem 0.75rem;
            background: rgba(255,255,255,0.2); border-radius: 9999px;
            font-size: 0.875rem; font-weight: 600; margin-right: 0.5rem;
        }
        .nav {
            background: var(--card); border-bottom: 1px solid var(--border);
            position: sticky; top: 0; z-index: 90; overflow-x: auto;
        }
        .nav-content {
            max-width: 1200px; margin: 0 auto; display: flex; gap: 0.5rem; padding: 0.5rem;
        }
        .nav-btn {
            padding: 0.75rem 1.5rem; background: transparent; border: none;
            color: var(--text-muted); cursor: pointer; font-weight: 600;
            border-radius: 0.5rem; white-space: nowrap; font-size: 1rem;
        }
        .nav-btn:hover { background: rgba(255,255,255,0.05); color: var(--text); }
        .nav-btn.active { background: var(--primary); color: white; }
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem 1rem; }
        .section { display: none; animation: fadeIn 0.3s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .dashboard-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem; margin-bottom: 2rem;
        }
        .phase-card {
            background: var(--card); border: 1px solid var(--border);
            border-radius: 1rem; padding: 1.5rem; cursor: pointer;
            transition: all 0.3s; position: relative;
        }
        .phase-card:hover { transform: translateY(-2px); border-color: var(--primary); }
        .phase-card.active-phase { border-color: var(--success); box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.3); }
        .phase-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem; }
        .phase-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.25rem; }
        .phase-subtitle { color: var(--text-muted); font-size: 0.875rem; }
        .phase-status {
            padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem;
            font-weight: 700; text-transform: uppercase;
        }
        .status-active { background: rgba(16, 185, 129, 0.2); color: var(--success); }
        .status-pending { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
        .status-completed { background: rgba(100, 116, 139, 0.2); color: var(--text-muted); }
        
        .progress-container { margin: 1.5rem 0; }
        .progress-label { display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.875rem; color: var(--text-muted); }
        .progress-bar-bg {
            height: 8px; background: rgba(255,255,255,0.1);
            border-radius: 9999px; overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%; background: linear-gradient(90deg, var(--success), #34d399);
            border-radius: 9999px; transition: width 0.5s ease;
        }
        .phase-stats {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;
            margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border);
        }
        .stat { text-align: center; }
        .stat-value { font-size: 1.25rem; font-weight: 700; color: var(--text); }
        .stat-label { font-size: 0.75rem; color: var(--text-muted); text-transform: uppercase; }
        
        .card {
            background: var(--card); border: 1px solid var(--border);
            border-radius: 1rem; padding: 2rem; margin-bottom: 1.5rem;
        }
        .card-title { font-size: 1.25rem; margin-bottom: 1.5rem; color: var(--text); }
        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem; }
        
        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        th {
            background: rgba(255,255,255,0.05); padding: 1rem; text-align: left;
            font-weight: 600; color: var(--text-muted); text-transform: uppercase;
            font-size: 0.75rem; letter-spacing: 0.05em; border-bottom: 1px solid var(--border);
        }
        td { padding: 1rem; border-bottom: 1px solid var(--border); color: var(--text); }
        tr:hover td { background: rgba(255,255,255,0.02); }
        .amount { font-family: 'Courier New', monospace; font-weight: 600; }
        .highlight-green { color: var(--success); }
        .highlight-yellow { color: var(--warning); }
        .highlight-blue { color: #60a5fa; }
        
        .member-grid { display: grid; gap: 1rem; }
        .member-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 1rem; background: rgba(255,255,255,0.03);
            border: 1px solid var(--border); border-radius: 0.75rem;
        }
        .badge-small {
            padding: 0.25rem 0.75rem; border-radius: 9999px;
            font-size: 0.75rem; font-weight: 600;
        }
        .alert {
            padding: 1rem; border-radius: 0.75rem; margin-bottom: 1.5rem;
            border-left: 4px solid;
        }
        .alert-info { background: rgba(37, 99, 235, 0.1); border-color: var(--primary); color: #93c5fd; }
        .form-row { display: flex; gap: 1rem; margin-bottom: 1rem; flex-wrap: wrap; }
        select, input[type="number"] {
            padding: 0.75rem; background: rgba(255,255,255,0.05);
            border: 1px solid var(--border); color: var(--text);
            border-radius: 0.5rem; font-size: 1rem; flex: 1;
        }
        button {
            padding: 0.75rem 1.5rem; background: var(--primary); border: none;
            color: white; border-radius: 0.5rem; cursor: pointer;
            font-weight: 600; font-size: 1rem;
        }
        button:hover { background: var(--secondary); }
        
        .summary-cards {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem; margin-bottom: 2rem;
        }
        .summary-card {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(29, 78, 216, 0.2));
            border: 1px solid rgba(37, 99, 235, 0.3);
            padding: 1.5rem; border-radius: 1rem; text-align: center;
        }
        .summary-number { font-size: 2.5rem; font-weight: 800; color: white; margin-bottom: 0.5rem; }
        .summary-label { color: var(--text-muted); font-size: 0.875rem; text-transform: uppercase; }
        
        @media (max-width: 768px) {
            .grid-2 { grid-template-columns: 1fr; }
            .dashboard-grid { grid-template-columns: 1fr; }
            .form-row { flex-direction: column; }
        }
    </style>
</head>
<body>

<div class="header">
    <div class="header-content">
        <h1>TECHIES INVESTMENTS</h1>
        <div>
            <span class="badge">Y10 • Y12 • Y16 Bars</span>
            <span class="badge">2026-2028</span>
        </div>
        <p style="margin-top: 0.5rem; opacity: 0.9;">3-Phase Program Tracker</p>
    </div>
</div>

<nav class="nav">
    <div class="nav-content">
        <button class="nav-btn active" onclick="showSection('dashboard')">Dashboard</button>
        <button class="nav-btn" onclick="showSection('phase1')">Phase 1 (Y10)</button>
        <button class="nav-btn" onclick="showSection('phase2')">Phase 2 (Y12)</button>
        <button class="nav-btn" onclick="showSection('phase3')">Phase 3 (Y16)</button>
        <button class="nav-btn" onclick="showSection('members')">Members</button>
    </div>
</nav>

<div class="container">
    
    <!-- DASHBOARD -->
    <div id="dashboard" class="section active">
        <h2 style="margin-bottom: 0.5rem;">Program Overview</h2>
        <p style="color: var(--text-muted); margin-bottom: 2rem;">Master Timeline: Jan 2026 - Jul 2028 (31 months)</p>

        <div class="summary-cards">
            <div class="summary-card">
                <div class="summary-number" style="color: #60a5fa;" id="total-bars-display">361</div>
                <div class="summary-label">Total Bars</div>
            </div>
            <div class="summary-card">
                <div class="summary-number" style="color: #34d399;" id="total-investment-display">MK 16.7M</div>
                <div class="summary-label">Total Investment</div>
            </div>
            <div class="summary-card">
                <div class="summary-number" style="color: #fbbf24;">6</div>
                <div class="summary-label">Active Members</div>
            </div>
            <div class="summary-card">
                <div class="summary-number" style="color: #f472b6;">1</div>
                <div class="summary-label">Current Phase</div>
            </div>
        </div>

        <h3 style="margin-bottom: 1.5rem; color: var(--text-muted);">Phase Progress</h3>
        <div class="dashboard-grid" id="phase-cards-container">
            <!-- Generated by JavaScript -->
        </div>
    </div>

    <!-- PHASE 1 -->
    <div id="phase1" class="section">
        <h2 style="margin-bottom: 0.5rem;">Phase 1: Y10 Bars Acquisition</h2>
        <div style="margin-bottom: 2rem;">
            <span class="badge status-active">ACTIVE</span>
            <span class="badge">Jan 2026</span>
            <span class="badge">120 Bars Target</span>
        </div>

        <div class="alert alert-info">
            <strong>Required by Jan 31, 2026:</strong> MK <span id="p1-needed">520,000</span> additional funding (Total phase cost: MK 3,120,000)
        </div>

        <div class="grid-2">
            <div class="card">
                <h3 class="card-title">Funding Status (Auto-Calculated)</h3>
                <div style="text-align: center; margin: 2rem 0;">
                    <div style="font-size: 3rem; font-weight: 800; color: var(--success);" id="p1-total-raised">MK 0</div>
                    <div style="color: var(--text-muted); margin-top: 0.5rem;">Total Raised</div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-label">
                        <span>Progress to Goal</span>
                        <span id="p1-percent">0%</span>
                    </div>
                    <div class="progress-bar-bg">
                        <div class="progress-bar-fill" id="p1-bar" style="width: 0%"></div>
                    </div>
                </div>

                <div style="margin-top: 1.5rem;">
                    <table>
                        <tr><td>Total Phase Cost</td><td class="amount">MK 3,120,000</td></tr>
                        <tr><td>Funds Available</td><td class="amount highlight-blue">MK 2,600,000</td></tr>
                        <tr><td>Amount to Raise</td><td class="amount highlight-yellow">MK <span id="p1-target-display">520,000</span></td></tr>
                        <tr style="background: rgba(255,255,255,0.03);">
                            <td style="font-weight: 600;">Remaining Needed</td>
                            <td class="amount highlight-yellow" style="font-weight: 700; font-size: 1.1rem;" id="p1-remaining">MK 520,000</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">Member Contributions</h3>
                <p style="color: var(--text-muted); margin-bottom: 1.5rem; font-size: 0.9rem;">
                    To update: Edit the CONFIGURATION section at the top of this HTML file
                </p>
                
                <div class="member-grid" id="p1-members-list">
                    <!-- Generated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- PHASE 2 -->
    <div id="phase2" class="section">
        <h2 style="margin-bottom: 0.5rem;">Phase 2: Y12 Bars Program</h2>
        <div style="margin-bottom: 2rem;">
            <span class="badge status-pending">Feb - Aug 2026</span>
            <span class="badge">7 Months</span>
            <span class="badge">81 Bars Total</span>
        </div>

        <div class="grid-2">
            <div class="card">
                <h3 class="card-title">Program Structure</h3>
                <table>
                    <tr><td>Material</td><td><strong>Y12 Bars</strong></td></tr>
                    <tr><td>Unit Cost</td><td class="amount">MK 37,000</td></tr>
                    <tr><td>Monthly Buying Power</td><td class="amount highlight-blue">12 bars (MK 444,000)</td></tr>
                    <tr><td>Duration</td><td>7 months</td></tr>
                    <tr><td>Total Bars</td><td class="amount highlight-green">81 bars</td></tr>
                    <tr><td>Total Phase Investment</td><td class="amount" style="color: var(--success);">MK 2,997,000</td></tr>
                </table>
            </div>

            <div class="card">
                <h3 class="card-title">Monthly Schedule</h3>
                <div style="overflow-x: auto;">
                    <table>
                        <thead>
                            <tr><th>Month</th><th>Bars</th><th>Cost</th><th>Balance</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Feb 2026</td><td>12</td><td class="amount">MK 444,000</td><td class="highlight-green">MK 36,000</td></tr>
                            <tr><td>Mar 2026</td><td>12</td><td class="amount">MK 444,000</td><td class="highlight-green">MK 36,000</td></tr>
                            <tr><td>Apr 2026</td><td>12</td><td class="amount">MK 444,000</td><td class="highlight-green">MK 36,000</td></tr>
                            <tr><td>May 2026</td><td>12</td><td class="amount">MK 444,000</td><td class="highlight-green">MK 36,000</td></tr>
                            <tr><td>Jun 2026</td><td>12</td><td class="amount">MK 444,000</td><td class="highlight-green">MK 36,000</td></tr>
                            <tr><td>Jul 2026</td><td>12</td><td class="amount">MK 444,000</td><td class="highlight-green">MK 36,000</td></tr>
                            <tr style="background: rgba(255,255,255,0.03);"><td>Aug 2026</td><td>9</td><td class="amount">MK 333,000</td><td class="highlight-yellow">MK 147,000</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- PHASE 3 -->
    <div id="phase3" class="section">
        <h2 style="margin-bottom: 0.5rem;">Phase 3: Y16 Bars Program</h2>
        <div style="margin-bottom: 2rem;">
            <span class="badge" style="background: rgba(139, 92, 246, 0.2); color: #a78bfa;">Sep 2026 - Jul 2028</span>
            <span class="badge">23 Months</span>
            <span class="badge">160 Bars Total</span>
        </div>

        <div class="grid-2">
            <div class="card">
                <h3 class="card-title">Program Overview</h3>
                <table>
                    <tr><td>Material</td><td><strong>Y16 Bars</strong></td></tr>
                    <tr><td>Unit Cost</td><td class="amount">MK 66,000</td></tr>
                    <tr><td>Monthly Target</td><td class="amount highlight-blue">7 bars (MK 462,000)</td></tr>
                    <tr><td>Regular Period</td><td>Sep 2026 - Jun 2028 (22 months)</td></tr>
                    <tr><td>Completion</td><td class="highlight-yellow">July 2028</td></tr>
                    <tr style="background: rgba(255,255,255,0.03);"><td style="font-weight: 600;">Total Investment</td><td class="amount highlight-green" style="font-size: 1.2rem;">MK 10,560,000</td></tr>
                </table>
            </div>

            <div class="card">
                <h3 class="card-title">Acquisition Breakdown</h3>
                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; font-weight: 600; margin-bottom: 0.5rem;">
                        <span>Regular Purchases (22 months)</span>
                        <span style="color: var(--success);">154 bars</span>
                    </div>
                    <div style="font-size: 0.875rem; color: var(--text-muted); margin-bottom: 1.5rem;">
                        22 months × 7 bars = 154 bars
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; font-weight: 600; margin-bottom: 0.5rem;">
                        <span>Final Month (Jul 2028)</span>
                        <span style="color: var(--warning);">6 bars</span>
                    </div>
                    <div style="font-size: 0.875rem; color: var(--text-muted); margin-bottom: 0.5rem;">
                        Cost: MK 396,000 | Balance: MK 84,000
                    </div>
                </div>
                <div class="alert alert-info">
                    <strong>Project End:</strong> July 2028 (31 months total)
                </div>
            </div>
        </div>
    </div>

    <!-- MEMBERS -->
    <div id="members" class="section">
        <h2 style="margin-bottom: 0.5rem;">Member Directory</h2>
        <p style="color: var(--text-muted); margin-bottom: 2rem;">Contribution summary across all phases</p>

        <div class="card">
            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>Member</th>
                            <th>Phase 1 (Y10)</th>
                            <th>Phase 2 (Y12)</th>
                            <th>Phase 3 (Y16)</th>
                            <th>Total Contribution</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="members-table-body">
                        <!-- Generated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>

<script>
/* ============================================
   CONFIGURATION SECTION - EDIT THESE VALUES ONLY
   ============================================
   
   INSTRUCTIONS:
   1. Just change the numbers below
   2. All calculations (totals, percentages, remaining) update automatically
   3. Commit this file to GitHub and everyone sees the updates
   
   MEMBERS LIST: Add or remove names as needed
*/

const CONFIG = {
    // List all members here (appears in dropdowns and tables)
    members: ['Patrick', 'Walusungu', 'Allan', 'Sudi', 'Edmond', 'Sam'],
    
    // PHASE 1: Y10 Bars (Jan 2026)
    phase1: {
        // How much you need to raise THIS MONTH (in addition to existing funds)
        goalToRaise: 520000,
        
        // Funds already available in treasury
        fundsAvailable: 2600000,
        
        // Cost per bar
        unitCost: 26000,
        
        // Total bars to buy this phase
        totalBars: 120,
        
        // Individual contributions (who paid what)
        contributions: {
            Patrick: 100000,
            Walusungu: 100000,
            Allan: 0,      // <-- EDIT: Change to amount paid
            Sudi: 0,       // <-- EDIT: Change to amount paid  
            Edmond: 0,     // <-- EDIT: Change to amount paid
            Sam: 0         // <-- EDIT: Change to amount paid
        }
    },
    
    // PHASE 2: Y12 Bars (Feb-Aug 2026) - Data for reference
    phase2: {
        unitCost: 37000,
        monthlyPower: 444000,
        totalBars: 81,
        duration: '7 months'
    },
    
    // PHASE 3: Y16 Bars (Sep 2026-Jul 2028) - Data for reference  
    phase3: {
        unitCost: 66000,
        monthlyPower: 462000,
        totalBars: 160,
        duration: '23 months',
        regularBars: 154,
        finalBars: 6
    }
};

/* ============================================
   DO NOT EDIT BELOW THIS LINE
   Everything below calculates automatically from CONFIG above
   ============================================ */

function formatMoney(amount) {
    return 'MK ' + amount.toLocaleString();
}

function calculatePhase1() {
    const p1 = CONFIG.phase1;
    let totalRaised = 0;
    
    // Calculate total raised from individual contributions
    for (let member of CONFIG.members) {
        totalRaised += (p1.contributions[member] || 0);
    }
    
    const remaining = p1.goalToRaise - totalRaised;
    const percent = Math.min(100, Math.max(0, (totalRaised / p1.goalToRaise) * 100));
    
    return {
        raised: totalRaised,
        remaining: remaining,
        percent: percent.toFixed(1),
        totalCost: p1.totalBars * p1.unitCost,
        isComplete: remaining <= 0
    };
}

function initDashboard() {
    const calc = calculatePhase1();
    const p1 = CONFIG.phase1;
    
    // Update dashboard overview
    document.getElementById('total-bars-display').textContent = 
        p1.totalBars + CONFIG.phase2.totalBars + CONFIG.phase3.totalBars;
    
    const totalInvestment = (p1.totalBars * p1.unitCost) + 
                           (CONFIG.phase2.totalBars * CONFIG.phase2.unitCost) + 
                           (CONFIG.phase3.totalBars * CONFIG.phase3.unitCost);
    document.getElementById('total-investment-display').textContent = 
        'MK ' + (totalInvestment / 1000000).toFixed(1) + 'M';
    
    // Generate phase cards
    const cardsHtml = `
        <div class="phase-card active-phase" onclick="showSection('phase1')">
            <div class="phase-header">
                <div>
                    <div class="phase-title">Phase 1: Y10 Bars</div>
                    <div class="phase-subtitle">Jan 2026 • ${p1.totalBars} Bars Target</div>
                </div>
                <span class="phase-status ${calc.isComplete ? 'status-completed' : 'status-active'}">
                    ${calc.isComplete ? 'Complete' : 'Active'}
                </span>
            </div>
            <div class="progress-container">
                <div class="progress-label">
                    <span>Raised: ${formatMoney(calc.raised)}</span>
                    <span>Goal: ${formatMoney(p1.goalToRaise)}</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" style="width: ${calc.percent}%"></div>
                </div>
            </div>
            <div style="margin-top: 1rem; font-size: 0.9rem; color: ${calc.remaining > 0 ? 'var(--warning)' : 'var(--success)'}; font-weight: 600;">
                ${calc.remaining > 0 ? formatMoney(calc.remaining) + ' remaining' : 'GOAL REACHED!'}
            </div>
        </div>

        <div class="phase-card" onclick="showSection('phase2')">
            <div class="phase-header">
                <div>
                    <div class="phase-title">Phase 2: Y12 Bars</div>
                    <div class="phase-subtitle">Feb-Aug 2026 • ${CONFIG.phase2.duration}</div>
                </div>
                <span class="phase-status status-pending">Upcoming</span>
            </div>
            <div class="progress-container">
                <div class="progress-label">
                    <span>Monthly Target</span>
                    <span>${formatMoney(CONFIG.phase2.monthlyPower)}</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" style="width: 0%; background: linear-gradient(90deg, #f59e0b, #fbbf24);"></div>
                </div>
            </div>
            <div style="margin-top: 1rem; font-size: 0.9rem; color: var(--text-muted);">
                ${CONFIG.phase2.totalBars} bars total • MK ${CONFIG.phase2.unitCost}/unit
            </div>
        </div>

        <div class="phase-card" onclick="showSection('phase3')">
            <div class="phase-header">
                <div>
                    <div class="phase-title">Phase 3: Y16 Bars</div>
                    <div class="phase-subtitle">Sep 2026 - Jul 2028 • ${CONFIG.phase3.duration}</div>
                </div>
                <span class="phase-status status-pending">Future</span>
            </div>
            <div class="progress-container">
                <div class="progress-label">
                    <span>Timeline</span>
                    <span>Preparation</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" style="width: 0%; background: linear-gradient(90deg, #8b5cf6, #a78bfa);"></div>
                </div>
            </div>
            <div style="margin-top: 1rem; font-size: 0.9rem; color: var(--text-muted);">
                ${CONFIG.phase3.totalBars} bars • Ends July 2028
            </div>
        </div>
    `;
    
    document.getElementById('phase-cards-container').innerHTML = cardsHtml;
}

function initPhase1() {
    const calc = calculatePhase1();
    const p1 = CONFIG.phase1;
    
    // Update all Phase 1 displays
    document.getElementById('p1-total-raised').textContent = formatMoney(calc.raised);
    document.getElementById('p1-percent').textContent = calc.percent + '%';
    document.getElementById('p1-bar').style.width = calc.percent + '%';
    document.getElementById('p1-remaining').textContent = formatMoney(calc.remaining > 0 ? calc.remaining : 0);
    document.getElementById('p1-target-display').textContent = formatMoney(p1.goalToRaise);
    document.getElementById('p1-needed').textContent = formatMoney(p1.goalToRaise);
    
    // Generate member list
    let membersHtml = '';
    CONFIG.members.forEach(member => {
        const amount = p1.contributions[member] || 0;
        const isPaid = amount > 0;
        const remaining = isPaid ? 0 : p1.goalToRaise / CONFIG.members.length; // Rough estimate per person
        
        membersHtml += `
            <div class="member-item">
                <div>
                    <div style="font-weight: 600; font-size: 1.1rem;">${member}</div>
                    <div style="font-size: 0.875rem; color: ${isPaid ? 'var(--success)' : 'var(--text-muted)'};">
                        ${isPaid ? 'Paid ' + formatMoney(amount) : 'Pending contribution'}
                    </div>
                </div>
                <span class="badge-small ${isPaid ? 'status-active' : 'status-pending'}" style="font-size: 0.9rem;">
                    ${isPaid ? 'Paid' : 'Pending'}
                </span>
            </div>
        `;
    });
    document.getElementById('p1-members-list').innerHTML = membersHtml;
}

function initMembers() {
    const p1 = CONFIG.phase1;
    let tbody = '';
    let grandTotal = 0;
    
    CONFIG.members.forEach(member => {
        const p1Amount = p1.contributions[member] || 0;
        grandTotal += p1Amount;
        
        tbody += `
            <tr>
                <td><strong>${member}</strong></td>
                <td class="amount ${p1Amount > 0 ? 'highlight-green' : ''}">
                    ${p1Amount > 0 ? formatMoney(p1Amount) : '-'}
                </td>
                <td class="amount" style="color: var(--text-muted);">-</td>
                <td class="amount" style="color: var(--text-muted);">-</td>
                <td class="amount highlight-blue">${p1Amount > 0 ? formatMoney(p1Amount) : '-'}</td>
                <td>
                    <span class="badge-small ${p1Amount > 0 ? 'status-active' : 'status-pending'}">
                        ${p1Amount > 0 ? 'Active' : 'Pending'}
                    </span>
                </td>
            </tr>
        `;
    });
    
    // Add total row
    tbody += `
        <tr style="background: rgba(255,255,255,0.05); font-weight: 700;">
            <td>TOTAL</td>
            <td class="amount highlight-green">${formatMoney(grandTotal)}</td>
            <td>-</td>
            <td>-</td>
            <td class="amount highlight-green">${formatMoney(grandTotal)}</td>
            <td></td>
        </tr>
    `;
    
    document.getElementById('members-table-body').innerHTML = tbody;
}

function showSection(sectionId) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');
    
    // Update nav buttons
    document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('active');
        if(btn.textContent.toLowerCase().includes(sectionId)) {
            btn.classList.add('active');
        }
    });
    
    // Re-init sections to ensure data is fresh
    if(sectionId === 'dashboard') initDashboard();
    if(sectionId === 'phase1') initPhase1();
    if(sectionId === 'members') initMembers();
}

// Initialize everything on load
document.addEventListener('DOMContentLoaded', () => {
    initDashboard();
    initPhase1();
    initMembers();
});
</script>

</body>
</html>